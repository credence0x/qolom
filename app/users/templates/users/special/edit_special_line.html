
{% extends 'users/special_base.html' %}
{% block content %}

{% if default_timezone %}
Please enable timezone setting of device
{% else %}
<style type="text/css">
  .errorlist{
    color: red;
  }
</style>

  
<div class="menubuttons" style="border-radius: 15px;text-align: unset;font-weight: normal;color: black;border-color: rgb(148,193,239);">
<p >
  <h2 class="edit_head searchstyle" style="color: orange;border-color: white">Edit Line</h2>
<form action="{% url "users:edit_line" %}" method="POST">
  <div class="fieldWrapper">
            {{ line_form.name.errors }}
               <label class=" pretty_head form_label" for="id_openday">Name</label>
              {{ line_form.name}}
        </div>
        <div class="fieldWrapper">
            {{ line_form.information.errors }}
               <label class="pretty_head form_label" for="id_information">Information</label>
              {{ line_form.information}}
        </div>

        <div class="fieldWrapper">
            {{ line_form.instruction.errors }}
               <label class="pretty_head form_label" for="id_instruction">Instruction</label>
              {{ line_form.instruction}}
        </div>
        <span>{{ line_form.mo_o.errors}}</span>
      <div class='time_box' name='bob'>
          <p style="text-align: center;"> Monday {{ line_form.monday}}</p>
                  
        <p>
               <label class="form_label" for="id_mo_o">Open:</label>
              {{ line_form.mo_o}}
        </p>
        <p >
           <label class="form_label" for="id_mo_c">Close: </label>
              {{ line_form.mo_c}}
        </p>
       
      </div>

      {{ line_form.tu_o.errors}}
      <div class='time_box'>
          <p style="text-align: center;"> Tuesday {{ line_form.tuesday}}</p>        
        <p>
               
               <label class="form_label" for="id_tu_o">Open:</label>
              {{ line_form.tu_o}}
        </p>
        <p >
           <label class="form_label" for="id_tu_c">Close: </label>
              {{ line_form.tu_c}}
        </p>
      </div>

      {{ line_form.we_o.errors}}
      <div class='time_box'>
          <p style="text-align: center;"> Wednesday {{ line_form.wednesday}}</p>        
        <p>
               
               <label class="form_label" for="id_we_o">Open:</label>
              {{ line_form.we_o}}
        </p>
        <p >
           <label class="form_label" for="id_we_c">Close: </label>
              {{ line_form.we_c}}
        </p>
      </div>



      {{ line_form.th_o.errors}}
      <div class='time_box'>
          <p style="text-align: center;"> Thursday {{ line_form.thursday}}</p>        
        <p>
               
               <label class="form_label" for="id_th_o">Open:</label>
              {{ line_form.th_o}}
        </p>
        <p >
           <label class="form_label" for="id_th_c">Close: </label>
              {{ line_form.th_c}}
        </p>
       
      </div>


      {{ line_form.fr_o.errors}}
      <div class='time_box'>
          <p style="text-align: center;"> Friday {{ line_form.friday}}</p>        
        <p>
               
               <label class="form_label" for="id_fr_o">Open:</label>
              {{ line_form.fr_o}}
        </p>
        <p >
           <label class="form_label" for="id_fr_c">Close: </label>
              {{ line_form.fr_c}}
        </p>
      </div>



      {{ line_form.sa_o.errors}}
      <div class='time_box'>
          <p style="text-align: center;"> Saturday {{ line_form.saturday}}</p>        
        <p>
               
               <label class="form_label" for="id_sa_o">Open:</label>
              {{ line_form.sa_o}}
        </p>
        <p >
           <label class="form_label" for="id_sa_c">Close: </label>
              {{ line_form.sa_c}}
        </p>
       
      </div>


      {{ line_form.su_o.errors}}
      <div class='time_box'>
          <p style="text-align: center;"> Sunday {{ line_form.sunday}}</p>        
        <p>
               
               <label class="form_label" for="id_su_o">Open:</label>
              {{ line_form.su_o}}
        </p>
        <p >
           <label class="form_label" for="id_su_c">Close: </label>
              {{ line_form.su_c}}
        </p>
       
      </div>
      
        
         

        
  {% csrf_token %}

<p>
          
        <button type="submit" class="linestyle edit_submit" style="margin-top: 10px;border-color:white;background-color: orange" >
              Submit
          </button>
      </p>

</form>
</p>
<br>
<form action="{% url "business:delete_line" %}" method="post" id="formid" >
          {{ delete_line_form.as_p }}
          {% csrf_token %}
        
        <button type="submit" style="color: white;background-color: red; font-size: 100%;font-weight: bold;border-color: red;margin-left: 30%;width: 40%;" class="linestyle" id="delete_line">
              Delete line
          </button>
        
</form>
<br><br>
</p>
<div id="confirmModal"  class="modal" >
  <div class="modal-content2" id='modale_content_confirm' >
    <p style="text-align: center;"> Are you sure you want to delete this line?<br>
    Note: This can not be undone.</p>
    
    <button id="allow" class="yes_no" style="color: red;">
      <b>Yes</b>
  </button>
    <button id="disallow" class="yes_no">
    <b>No</b>
  </button>
  </div>
</div>
{% endif %}
</div>
<br><br><br>



<script type="text/javascript">
  var button_click = document.getElementById('delete_line');  
  var formid = document.getElementById('formid');
  var modale = document.getElementById("confirmModal");
  var allow = document.getElementById('allow');
  var disallow = document.getElementById('disallow');
  var how_to_content = document.getElementById('modale_content_confirm');

  
  button_click.onclick=function create(event){
    
    event.preventDefault();
    modale.style.animationPlayState = 'running';
    modale.style.display = "block";
    how_to_content.style.animationPlayState = 'running';
    how_to_content.style.display = "block";
    setTimeout(function(){
    modale.style.animationPlayState = 'paused';
    how_to_content.style.animationPlayState = 'paused';
  
  },500);
  
  
};
  allow.onclick=function(){
    formid.submit();
    
  };

  disallow.onclick=function(){
    modale.style.animationPlayState = 'running';
    how_to_content.style.animationPlayState = 'running';
  
  setTimeout(function(){
    modale.style.display = 'none';
    modale.style.animationPlayState = 'paused';
    how_to_content.style.display = 'none';
    how_to_content.style.animationPlayState = 'paused';
  
  },500);
  
  };

</script>




<script type="text/javascript">
  var days = ['monday','tuesday','wednesday',
              'thursday','friday','saturday',
              'sunday']

  for (var x of days) {
    var y = 'id_'+ x 
    z = document.getElementById(y)
    z.addEventListener("click", run_am );
    var id_o = 'id_'+z.id[3]+z.id[4] +'_o'
    var id_c = 'id_'+z.id[3]+z.id[4] +'_c'
    if (z.checked==false) {
         document.getElementById(id_o).style.display ='None'
         document.getElementById(id_c).style.display ='None'
         document.getElementById(id_o).labels[0].style.display='None'
         document.getElementById(id_c).labels[0].style.display='None'
          
        }
    
  }
//errorrrrrrrrrrrrrrrrrrrrrrrrrr handling
  
 function run_am(){

          var id_o = 'id_'+this.id[3]+this.id[4] +'_o'
          var id_c = 'id_'+this.id[3]+this.id[4] +'_c'
    if (this.checked==true) {
          document.getElementById(id_o).style.display ='inline'
          document.getElementById(id_c).style.display ='inline'
          document.getElementById(id_o).labels[0].style.display='inline'
          document.getElementById(id_c).labels[0].style.display='inline'
          
        }

    else if (this.checked==false){
           document.getElementById(id_o).style.display ='None'
           document.getElementById(id_c).style.display ='None'
           document.getElementById(id_o).labels[0].style.display='None'
           document.getElementById(id_c).labels[0].style.display='None'
           
        }
 } 

</script>



{% endblock %}

